{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "title": "REST API Provider Configuration",
  "description": "Configuration schema for REST API provider",
  "properties": {
    "global_defaults": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "uri": {
          "type": "string",
          "description": "URI of the REST API endpoint. This serves as the base of all requests."
        },
        "create_method": {
          "type": "string",
          "description": "Defaults to POST. The HTTP method used to CREATE objects of this type on the API server.",
          "default": "POST"
        },
        "update_method": {
          "type": "string",
          "description": "Defaults to PUT. The HTTP method used to UPDATE objects of this type on the API server.",
          "default": "PUT"
        },
        "destroy_method": {
          "type": "string",
          "description": "Defaults to DELETE. The HTTP method used to DELETE objects of this type on the API server.",
          "default": "DELETE"
        },
        "read_method": {
          "type": "string",
          "description": "Defaults to GET. The HTTP method used to READ objects of this type on the API server.",
          "default": "GET"
        },
        "debug": {
          "type": "boolean",
          "description": "Enabling this will cause lots of debug information to be printed to STDOUT by the API client."
        },
        "headers": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "description": "A map of header names and values to set on all outbound requests. This is useful if you want to use a script via the 'external' provider or provide a pre-approved token or change Content-Type from application/json. If username and password are set and Authorization is one of the headers defined here, the BASIC auth credentials take precedence."
        },
        "id_attribute": {
          "type": "string",
          "description": "When set, this key will be used to operate on REST objects. For example, if the ID is set to 'name', changes to the API object will be to http://foo.com/bar/VALUE_OF_NAME."
        }
      }
    },
    "resources": {
      "type": "object",
      "additionalProperties": {
        "type": "object",
        "additionalProperties": false,
        "required": [
          "path"
        ],
        "properties": {
          "generate_resource": {
            "type": "boolean",
            "default": true,
            "description": "Defaults to true. Whether to generate a Terraform resource type for this API object."
          },
          "generate_data_source": {
            "type": "boolean",
            "default": true,
            "description": "Defaults to true. Whether to generate a Terraform data source type for this API object."
          },
          "path": {
            "type": "string",
            "description": "The API path on top of the base URL set in the provider that represents objects of this type on the API server."
          },
          "create": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "method": {
                "type": "string",
                "description": "Defaults to global {create_method}. Allows per-resource override of create_method (see create_method config documentation)"
              },
              "path": {
                "type": "string",
                "description": "Defaults to {path}. The API path that represents where to CREATE (POST) objects of this type on the API server. The string {id} will be replaced with the terraform ID of the object if the data contains the id_attribute."
              }
            }
          },
          "update": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "method": {
                "type": "string",
                "description": "Defaults to global {update_method}. Allows per-resource override of create_method (see create_method config documentation)"
              },
              "path": {
                "type": "string",
                "description": "Defaults to {path}/{id_attribute}. The API path that represents where to UPDATE (PUT) objects of this type on the API server. The string {id} will be replaced with the terraform ID of the object if the data contains the id_attribute."
              }
            }
          },
          "destroy": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "method": {
                "type": "string",
                "description": "Defaults to global {destroy_method}. Allows per-resource override of create_method (see create_method config documentation)"
              },
              "path": {
                "type": "string",
                "description": "Defaults to {path}/{id_attribute}. The API path that represents where to DESTROY (DELETE) objects of this type on the API server. The string {id} will be replaced with the terraform ID of the object if the data contains the id_attribute."
              }
            }
          },
          "read": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "method": {
                "type": "string",
                "description": "Defaults to global {read_method}. Allows per-resource override of create_method (see create_method config documentation)"
              },
              "path": {
                "type": "string",
                "description": "Defaults to {path}/{id_attribute}. The API path that represents where to READ (GET) objects of this type on the API server. The string {id} will be replaced with the terraform ID of the object if the data contains the id_attribute."
              },
              "search": {
                "type": "object",
                "description": "Custom search for read_path.",
                "additionalProperties": false,
                "required": [
                  "search_key",
                  "search_value"
                ],
                "properties": {
                  "search_key": {
                    "type": "string",
                    "description": "When reading search results from the API, this key is used to identify the specific record to read. This should be a unique record such as 'name'. Similar to results_key, the value may be in the format of 'field/field/field' to search for data deeper in the returned object."
                  },
                  "search_value": {
                    "type": "string",
                    "description": "The value of 'search_key' will be compared to this value to determine if the correct object was found. Example: if 'search_key' is 'name' and 'search_value' is 'foo', the record in the array returned by the API with name=foo will be used."
                  },
                  "query_string": {
                    "type": "string",
                    "description": "An optional query string to send when performing the search."
                  },
                  "results_key": {
                    "type": "string",
                    "description": "When issuing a GET to the path, this JSON key is used to locate the results array. The format is 'field/field/field'. Example: 'results/values'. If omitted, it is assumed the results coming back are already an array and are to be used exactly as-is."
                  },
                  "search_path": {
                    "type": "string",
                    "description": "The API path on top of the base URL set in the provider that represents the location to search for objects of this type on the API server. If not set, defaults to the value of path."
                  }
                }
              }
            }
          },
          "debug": {
            "type": "boolean",
            "description": "Whether to emit verbose debug output while working with the API object on the server."
          },
          "force_recreate": {
            "type": "boolean",
            "default": false,
            "description": "If set to true, any changes to the resource will recreate it instead of updating."
          },
          "force_new": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Any changes to these values will result in recreating the resource instead of updating."
          },
          "id_attribute": {
            "type": "string",
            "description": "Defaults to {id_attribute} set on the provider. Allows per-resource override of id_attribute (see id_attribute provider config documentation)."
          },
          "id_attribute_path": {
            "type": "string",
            "description": "Defaults to {id_attribute}. The string '{id_attribute_path}' in the path names is replaced with the object ID. Use this in combination with `id_attribute` if the name of the ID attribute differs in the body schemas compared to path variables."
          },
          "ignore_all_server_changes": {
            "type": "boolean",
            "default": false,
            "description": "By default, Terraform will attempt to revert changes to remote resources. Set this to 'true' to ignore any remote changes. Default: false"
          },
          "ignore_changes_to": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "A list of fields to which remote changes will be ignored. For example, an API might add or remove metadata, such as a 'last_modified' field, which Terraform should not attempt to correct. To ignore changes to nested fields, use the dot syntax: 'metadata.timestamp'"
          },
          "object_id": {
            "type": "string",
            "description": "Defaults to the id learned by the provider during normal operations and id_attribute. Allows you to set the id manually. This is used in conjunction with the *_path attributes."
          },
          "query_string": {
            "type": "string",
            "description": "Query string to be included in the path"
          }
        }
      }
    }
  }
}
